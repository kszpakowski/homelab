apiVersion: iam.aws.m.upbound.io/v1beta1
kind: Policy
metadata:
  labels:
    service: app-2
    res: sqs
  name: sqs-policy
spec:
  forProvider:
    policy: |
      {
        "Version": "2012-10-17",
        "Statement": [
          {
              "Sid": "List SQS Queues",
              "Effect": "Allow",
              "Action": "sqs:ListQueues",
              "Resource": "*"
          }
        ]
      }
---
apiVersion: iam.aws.m.upbound.io/v1beta1
kind: UserPolicyAttachment
metadata:
  name: app2-user-policy-attachment-sqs
spec:
  forProvider:
    policyArnSelector:
      matchLabels:
        service: app-2
        res: sqs
    userSelector:
      matchLabels:
        service: app-2